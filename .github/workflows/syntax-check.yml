name: Syntax Check

on: [pull_request]

jobs:
  syntax-check:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout code
      uses: actions/checkout@v2

    # - name: Install yamllint and jsonlint
    #   run: |
    #     pip install yamllint
    #     npm install -g jsonlint
    #     pip install pyyaml

    # - name: Run yamllint
    #   run: |
    #     yamllint vars/acc vars/prd vars/test

    # - name: Run Python script to validate YAML files
    #   run: python validate.py
    - name: Ensuring the file is checkout to the runner
      run: |
        ls -lrt
        chmod 755 vars/yaml_precheck.sh
        cat vars/yaml_precheck.sh
        chmod 755 vars/yaml_precheck.sh

    - name: Check the prevalidation for the yaml file
      run: |
        cd vars/
        ./yaml_precheck.sh


